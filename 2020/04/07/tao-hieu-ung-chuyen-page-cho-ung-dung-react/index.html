<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <script>if (/*@cc_on!@*/false || (!!window.MSInputMethodContext && !!document.documentMode)) window.location.href="https://support.dmeng.net/upgrade-your-browser.html?referrer="+encodeURIComponent(window.location.href); </script>
    
    
        <link rel="preload" crossorigin="crossorigin" href="/fonts/roboto/Roboto-Regular.woff2" as="font">
        <link rel="preload" crossorigin="crossorigin" href="/fonts/roboto/Roboto-Bold.woff2" as="font">
    
    
    
        <link rel="shortcut icon" href="/icons/favicon.ico">
    
    
    
<link rel="stylesheet" href="/css/mdui.min.css">
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/iconfont.css">

    
    

    
        <script data-ad-client="ca-" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    



    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-162978474-1"></script>
<script>
  var host = window.location.hostname;
  if (host != "localhost" || true == false) {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-162978474-1');
  }
</script>










          


    
    
    <title>
        
            Thêm hiệu ứng chuyển pages cho ứng dụng ReactJS | Code cùng tôi
        
    </title>
    
    
<meta name="generator" content="Hexo 4.2.0"></head>
<!-- đã xoá mdui-drawer-body-left trong body để ẩn drawer-->
<body class="mdui-appbar-with-toolbar mdui-theme-primary-blue-grey mdui-theme-accent-blue">
  <div id="fb-root"></div>
  <script async defer crossorigin="anonymous"
    src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v6.0&appId=852124195304978&autoLogAppEvents=1">
  </script>
  
  <header class="mdui-appbar mdui-appbar-fixed">
  <div id="toolbar" class="mdui-toolbar mdui-color-theme">
    <button class="mdui-btn mdui-btn-icon" mdui-drawer="{target: '#sidebar', swipe: true}"><i class="iconfont icon-menu"></i></button>
    <a href="/" class="mdui-typo-headline">Code cùng tôi</a>
    <a href="/" class="header-subtitle mdui-typo-headline">Chia sẻ kiến thức lập trình</a>
    <div class="mdui-toolbar-spacer"></div>
    <button class="mdui-btn mdui-btn-icon" mdui-dialog="{target: '#search'}" mdui-tooltip="{content: 'search'}"><i class="iconfont icon-search"></i></button>
  </div>
</header>

<div class="mdui-dialog" id="search">
  
    <div class="search-form">
      <input type="search" class="search-form-input" placeholder="Tìm kiếm" onfocus="listenSearchFunc()">
    </div>
    <div class="search-result" data-resource="/search.xml"></div>
  
</div>

  <aside id="sidebar" class="mdui-drawer mdui-drawer-close">
    <div class="mdui-tab" mdui-tab>
        <a href="#sidebar-tab1" id="sidebartab" class="mdui-ripple mdui-tab-active">Danh mục</a>
        <a href="#sidebar-tab2" id="sidebartab" class="mdui-ripple">Về tôi</a>
    </div>

    
    <div id="sidebar-tab1" class="mdui-p-a-2">
        <div class="mdui-list">
            
                
                <a href="/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-home"></i>
                    </div>
                    <div class="mdui-list-item-content">Trang chủ</div>
                </a>
            
                
                <a href="/tags/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-bookmark"></i>
                    </div>
                    <div class="mdui-list-item-content">Nhãn</div>
                </a>
            
                
                <a href="/categories/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-folder"></i>
                    </div>
                    <div class="mdui-list-item-content">Chủ đề</div>
                </a>
            
                
                <a href="/archives/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-archive"></i>
                    </div>
                    <div class="mdui-list-item-content">Lưu trữ</div>
                </a>
            
            <div class="mdui-list-item mdui-ripple">
                <div class="mdui-list-item-icon">
                    <i class="iconfont icon-moon"></i>
                </div>
                <div class="mdui-list-item-content">Nền tối</div>
                <label class="mdui-switch" id="darkmode">
                  <input type="checkbox" id="nightmode_switch"/>
                  <i class="mdui-switch-icon"></i>
                </label>
            </div>
        </div>
    </div>

    
    <div id="sidebar-tab2" class="mdui-p-a-2">
        <div class="sidebar-overview">
            <div class="sidebar-avatar">
                
                    <img src="/icons/avatar.jpg"/>
                
            </div>
            <div class="sidebar-author-name">Vu Van Phong</div>
            <div class="sidebar-description">Mình là Phong, một developer. Blog này là nơi chia sẻ những kiến thức, những gì mình đã và đang tìm hiểu. </div>
        </div>
        <div class="sidebar-links">
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-mail"></i></span>
                    <a href="mailto:phong95663@gmail.com" class="mdui-chip-title">E-Mail</a>
                </div>
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-github"></i></span>
                    <a href="https://github.com/VuPhong95663" target="_blank" rel="noopener" class="mdui-chip-title">GitHub</a>
                </div>
            
        </div>
        <ul class="mdui-list" mdui-collapse="{accordion: true}">
            <li class="mdui-collapse-item">
                <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-link"></i>
                    </div>
                    <div class="mdui-list-item-content">Liên kết</div>
                    <div class="mdui-collapse-item-arrow">
                        <i class="mdui-list-item-icon iconfont icon-angle-down"></i>
                    </div>
                </div>
                <ul class="mdui-collapse-item-body mdui-list mdui-list-dense">
                    
                        <a href="https://viblo.asia/u/vu.van.phong" target="_blank" rel="noopener" class="mdui-list-item mdui-ripple">
                            Viblo
                        </a>
                    
                </ul>
            </li>
        </ul>

    </div>

    <div class="mdui-divider"></div>
    
    
</aside>

  
  <main id="main-contain" class="mdui-container mdui-m-t-5">
    <div>
    <article id="article" class="mdui-card mdui-p-b-2 mdui-m-b-5">
  <header class="mdui-card-media">
    
    
      <div class="post-header">
  <a class="post-header-title" href="/2020/04/07/tao-hieu-ung-chuyen-page-cho-ung-dung-react/">Thêm hiệu ứng chuyển pages cho ứng dụng ReactJS</a>
  <div class="post-header-meta">
    <span>
      <span class="iconfont icon-calendar"></span>
      Đăng:&nbsp;2020-04-07
    </span>
    <!-- <span>
      <span class="iconfont icon-calendar-check"></span>
      Sửa:&nbsp;2020-04-21
    </span> -->
    <span>
      <span class="iconfont icon-folder"></span>
      Trong:&nbsp;<a class="category-link" href="/categories/Frontend/">Frontend</a>
    </span>
    
  </div>
</div>

    
    
    <div class="mdui-card-menu">
    
      <button class="mdui-btn mdui-btn-icon mdui-text-color-teal" mdui-menu="{target: '#share_menu', align: 'right'}"><i class="iconfont icon-share"></i></button>
      <ul class="mdui-menu" id="share_menu">
        <!-- <li class="mdui-menu-item">
          <a href="http://service.weibo.com/share/share.php?appkey=&title=Thêm hiệu ứng chuyển pages cho ứng dụng ReactJS&url=http://vuphong95663.github.io/2020/04/07/tao-hieu-ung-chuyen-page-cho-ung-dung-react/&pic=http://vuphong95663.github.io/null&searchPic=false&style=simple" target="_blank" class="mdui-ripple">Weibo</a>
        </li> -->
        <li class="mdui-menu-item">
          <a href="https://twitter.com/intent/tweet?text=Thêm hiệu ứng chuyển pages cho ứng dụng ReactJS&url=http://vuphong95663.github.io/2020/04/07/tao-hieu-ung-chuyen-page-cho-ung-dung-react/&via=Vu Van Phong" target="_blank" class="mdui-ripple">Twitter</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://www.facebook.com/sharer/sharer.php?u=http://vuphong95663.github.io/2020/04/07/tao-hieu-ung-chuyen-page-cho-ung-dung-react/" target="_blank" class="mdui-ripple">Facebook</a>
        </li>
        <!-- <li class="mdui-menu-item">
          <a href="https://plus.google.com/share?url=http://vuphong95663.github.io/2020/04/07/tao-hieu-ung-chuyen-page-cho-ung-dung-react/" target="_blank" class="mdui-ripple">Google+</a>
        </li> -->
        <li class="mdui-menu-item">
          <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://vuphong95663.github.io/2020/04/07/tao-hieu-ung-chuyen-page-cho-ung-dung-react/&title=Thêm hiệu ứng chuyển pages cho ứng dụng ReactJS" target="_blank" class="mdui-ripple">LinkedIn</a>
        </li>
        <!-- <li class="mdui-menu-item">
          <a href="http://connect.qq.com/widget/shareqq/index.html?site=Code cùng tôi&title=Thêm hiệu ứng chuyển pages cho ứng dụng ReactJS&summary=Mình là Phong, một developer. Blog này là nơi chia sẻ những kiến thức, những gì mình đã và đang tìm hiểu. &pics=http://vuphong95663.github.io/null&url=http://vuphong95663.github.io/2020/04/07/tao-hieu-ung-chuyen-page-cho-ung-dung-react/" target="_blank" class="mdui-ripple">QQ</a>
        </li> -->
        <li class="mdui-menu-item">
          <a href="https://telegram.me/share/url?url=http://vuphong95663.github.io/2020/04/07/tao-hieu-ung-chuyen-page-cho-ung-dung-react/&text=Thêm hiệu ứng chuyển pages cho ứng dụng ReactJS" target="_blank" class="mdui-ripple">Telegram</a>
        </li>
      </ul>
    
  </div>

  </header>
  
  
  
  
  <div class="post-tags">
    
      <i class="iconfont icon-tag">
        <a rel="tag" href = /tags/React/ >React</a>
      </i>
    
      <i class="iconfont icon-tag">
        <a rel="tag" href = /tags/Animation/ >Animation</a>
      </i>
    
  </div>

  
  <div class="mdui-card-content mdui-typo mdui-p-x-4">
    <h4 id="Gioi-thieu-ve-React-transition-group"><a href="#Gioi-thieu-ve-React-transition-group" class="headerlink" title="Giới thiệu về React transition group"></a>Giới thiệu về React transition group</h4><p>React-transition-group là một thư viện được phát triển bởi cộng đồng các lập trình viên React. Thư viện này hỗ trợ, cung cấp cho developers các component cần thiết để tạo ra các hiệu ứng, tương tác dễ dàng hơn với CSS Transition trong một ứng dụng React.</p>
<p>Thư viện cung cấp các component chính như:</p>
<ul>
<li>Transition</li>
<li>CssTransition</li>
<li>TransitionGroup</li>
</ul>
<h5 id="1-Component-Transition"><a href="#1-Component-Transition" class="headerlink" title="1.Component Transition"></a>1.Component Transition</h5><p>Component transition cho phép định nghĩa mô tả một transition để chuyển đổi từ một trạng thái giao diện này sang một trạng thái giao diện khác trong một khoảng thời gian.</p>
<p>Có 4 states chính trong một Component Transiotion:</p>
<ul>
<li>‘entering’</li>
<li>‘entered’</li>
<li>‘exiting’</li>
<li>‘exited’</li>
</ul>
<p>Và các callback function:</p>
<ul>
<li>‘onEnter’</li>
<li>‘onEntering’</li>
<li>‘onEntered’</li>
<li>‘onExit’</li>
<li>‘onExiting’</li>
<li>‘onExited’</li>
</ul>
<p>Việc sử dụng các states này giúp chúng ta trigger cũng như định nghĩa css cho component trong những trạng thái biến đổi của component.</p>
<p>Một <code>props</code> quan trọng trong Component Transition là <code>in</code>:</p>
<ul>
<li>Khi giá trị của <code>in</code> chuyển từ <code>false</code> sang <code>true</code> nó sẽ gọi lần lượt 3 sự kiện là <code>onEnter</code> <code>onEntering</code> và <code>onEntered</code>. Component Transition sẽ chuyển sang trạng thái <code>entering</code> và giữ trạng thái trong khoảng thời gian <code>timeout</code> và chuyển về trạng thái <code>entered</code>.</li>
<li>Ngược lại khi <code>in</code> chuyển từ <code>true</code> sang <code>false</code> lần lượt 3 sự kiện <code>onExit</code> <code>onExiting</code> và <code>onExited</code> được gọi và component chuyển dần từ trạng thái <code>exiting</code> về trạng thái <code>exited</code>.</li>
</ul>
<p>Chi tiết các bạn có thể tham khảo tại <a href="https://reactcommunity.org/react-transition-group/transition" target="_blank" rel="noopener">Component Transition</a></p>
<h5 id="2-CSSTransition"><a href="#2-CSSTransition" class="headerlink" title="2.CSSTransition"></a>2.CSSTransition</h5><p>CSSTransition được xây dựng dựa trên Component Transition vì vậy nó được kế từa các props của <code>Transition Component</code> ngoài ra nó có thêm 1 props là <code>classNames</code><br>CSSTransition là một cách khác để sử dụng transition vào trong ứng dụng, nó hỗ trợ làm việc dễ dàng hơn Transition khi thao tác với Css transitions và các animations.<br>Các bạn có thể tham khảo thêm tại <a href="https://reactcommunity.org/react-transition-group/css-transition" target="_blank" rel="noopener">CSSTransition</a></p>
<h5 id="3-TransitionGroup"><a href="#3-TransitionGroup" class="headerlink" title="3. TransitionGroup"></a>3. TransitionGroup</h5><p>Component <code>TransitionGroup</code> giúp quản lý một tập hợp các component <code>Transition</code> hoặc <code>CSSTransition</code> trong một danh sách.<br><a href="https://reactcommunity.org/react-transition-group/transition-group" target="_blank" rel="noopener">TransitionGroup</a></p>
<h4 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h4><p>Chúng ta cung thử sử dụng thư viện react-transition-group cho việc thêm hiệu ứng khi chuyển pages trong ứng dụng React.<br>Ở đây mình sử dụng <code>&lt;CSSTransition&gt;</code> kết hợp với <code>styled-components</code> và <code>react-router</code>.</p>
<center>
<img src="/2020/04/07/tao-hieu-ung-chuyen-page-cho-ung-dung-react/1.gif" class="">
</center>

<p>Chúng ta tạo một ứng dụng đơn giản gồm 2 buttons. Khi bấm vào 1 trong 2 button ứng dụng sẽ chuyển sang một route khác và mỗi một button chúng ta sẽ thêm một hiệu ứng cho việc chuyển trang.</p>
<p><a href="https://github.com/VuPhong95663/react-transition-group-demo" target="_blank" rel="noopener">Source code</a></p>
<p>Đầu tiên định nghĩa một page đơn giản với 2 buttons, khi nhấn vào button ta sẽ push sang một route khác đồng thời gửi thêm <code>state</code> trong <code>history.location</code> nhằm xác định hiệu ứng transition chúng ta muốn áp dụng:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Page.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> styled <span class="keyword">from</span> <span class="string">"styled-components"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Wrapper = styled.div<span class="string">`</span></span><br><span class="line"><span class="string">  width: 100vw;</span></span><br><span class="line"><span class="string">  height: 100vh;</span></span><br><span class="line"><span class="string">  position: absolute;</span></span><br><span class="line"><span class="string">  display: flex;</span></span><br><span class="line"><span class="string">  flex-direction: column;</span></span><br><span class="line"><span class="string">  align-items: center;</span></span><br><span class="line"><span class="string">  justify-content: space-between;</span></span><br><span class="line"><span class="string">  background-color: <span class="subst">$&#123;props =&gt; props.color&#125;</span>;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Button = styled.button<span class="string">`</span></span><br><span class="line"><span class="string">  background: white;</span></span><br><span class="line"><span class="string">  border: 1px #333;</span></span><br><span class="line"><span class="string">  height: 60px;</span></span><br><span class="line"><span class="string">  font-size: 30px;</span></span><br><span class="line"><span class="string">  border-radius: 5px;</span></span><br><span class="line"><span class="string">  cursor: pointer;</span></span><br><span class="line"><span class="string">  padding: 0 30px;</span></span><br><span class="line"><span class="string">  margin: 10px 30px;</span></span><br><span class="line"><span class="string">  &amp;:focus &#123;</span></span><br><span class="line"><span class="string">    outline: none;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Footer = styled.div<span class="string">`</span></span><br><span class="line"><span class="string">  display: flex;</span></span><br><span class="line"><span class="string">  justify-content: space-between;</span></span><br><span class="line"><span class="string">  width: 300px;</span></span><br><span class="line"><span class="string">  padding: 20px;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Page = <span class="function">(<span class="params">&#123; history, to, ...props &#125;</span>) =&gt;</span> (</span><br><span class="line">  &lt;Wrapper &#123;...props&#125;&gt;</span><br><span class="line">    &lt;h1&gt;React transitions group&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;Button onClick=&#123;() =&gt; history.push(&#123; pathname: to, state: "slideLeft" &#125;)&#125;&gt;</span></span><br><span class="line"><span class="regexp">        SLIDE LEFT</span></span><br><span class="line"><span class="regexp">      &lt;/</span>Button&gt;</span><br><span class="line">      &lt;Button onClick=&#123;() =&gt; history.push(&#123; <span class="attr">pathname</span>: to, <span class="attr">state</span>: <span class="string">"slideRight"</span> &#125;)&#125;&gt;</span><br><span class="line">        SLIDE RIGHT</span><br><span class="line">      &lt;<span class="regexp">/Button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">    &lt;Footer&gt;</span><br><span class="line">    &lt;<span class="regexp">/Footer&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>Wrapper&gt;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> Green = <span class="function"><span class="params">props</span> =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">Page</span> <span class="attr">color</span>=<span class="string">"#60d7a9"</span> <span class="attr">to</span>=<span class="string">"/yellow"</span> &#123;<span class="attr">...props</span>&#125; /&gt;</span></span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> Yellow = <span class="function"><span class="params">props</span> =&gt;</span> <span class="xml"><span class="tag">&lt;<span class="name">Page</span> <span class="attr">color</span>=<span class="string">"#fdc162"</span> <span class="attr">to</span>=<span class="string">"/green"</span> &#123;<span class="attr">...props</span>&#125; /&gt;</span></span>;</span><br></pre></td></tr></table></figure>

<p>Tiếp theo ta định nghĩa một TransitionGroup,  TransitionGroup sẽ quyết định hiệu ứng transition nào được áp dụng thông qua <code>state</code> của location mà chúng ta gửi kèm:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//transition/index.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; TransitionGroup, CSSTransition &#125; <span class="keyword">from</span> <span class="string">"react-transition-group"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> childFactoryCreator = <span class="function"><span class="params">props</span> =&gt;</span> <span class="function"><span class="params">child</span> =&gt;</span> React.cloneElement(child, props);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (&#123; duration = <span class="number">600</span>, pageKey, children, history &#125;) =&gt; &#123;</span><br><span class="line">  <span class="keyword">let</span> transitionType = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (history.location &amp;&amp; history.location.state === <span class="string">"slideLeft"</span>) &#123;</span><br><span class="line">    transitionType = <span class="string">'slideLeft'</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (history.location &amp;&amp; history.location.state === <span class="string">"slideRight"</span>) &#123;</span><br><span class="line">    transitionType = <span class="string">'slideRight'</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (duration == <span class="literal">null</span>) &#123;</span><br><span class="line">    duration = <span class="number">600</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;TransitionGroup</span><br><span class="line">      childFactory=&#123;childFactoryCreator(&#123;</span><br><span class="line">        classNames: transitionType,</span><br><span class="line">        timeout: duration</span><br><span class="line">      &#125;)&#125;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;CSSTransition key=&#123;pageKey&#125; timeout=&#123;duration&#125;&gt;</span><br><span class="line">        &lt;div&gt;&#123;children&#125;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>CSSTransition&gt;</span><br><span class="line">    &lt;<span class="regexp">/TransitionGroup&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;;</span></span><br></pre></td></tr></table></figure>

<p>Ta sử dụng TransitionGroup được tạo trong khi chuyển trang kết hợp với <code>react-router</code>:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// App.js</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">"react"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Router, Switch, Route, Redirect &#125; <span class="keyword">from</span> <span class="string">"react-router-dom"</span>;</span><br><span class="line"><span class="keyword">import</span> createHistory <span class="keyword">from</span> <span class="string">"history/createBrowserHistory"</span>;</span><br><span class="line"><span class="keyword">import</span> Transitions <span class="keyword">from</span> <span class="string">"./transition"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Green, Yellow &#125; <span class="keyword">from</span> <span class="string">"./Page"</span>;</span><br><span class="line"><span class="keyword">import</span> Wrapper <span class="keyword">from</span> <span class="string">'./styles'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> history = createHistory();</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> () =&gt; (</span><br><span class="line">  &lt;Router history=&#123;history&#125;&gt;</span><br><span class="line">    &lt;Route</span><br><span class="line">      render=&#123;(&#123; location &#125;) =&gt; (</span><br><span class="line">        &lt;Wrapper&gt;</span><br><span class="line">          &lt;Transitions</span><br><span class="line">            pageKey=&#123;location.key&#125;</span><br><span class="line">            history=&#123;history&#125;</span><br><span class="line">            &#123;...location.state&#125;</span><br><span class="line">          &gt;</span><br><span class="line">            &lt;Switch location=&#123;location&#125;&gt;</span><br><span class="line">              &lt;Route path=<span class="string">"/green"</span> component=&#123;Green&#125; /&gt;</span><br><span class="line">              &lt;Route path=<span class="string">"/yellow"</span> component=&#123;Yellow&#125; /&gt;</span><br><span class="line">              &lt;Redirect <span class="keyword">from</span>=<span class="string">"/"</span> to=<span class="string">"/green"</span> /&gt;</span><br><span class="line">            &lt;<span class="regexp">/Switch&gt;</span></span><br><span class="line"><span class="regexp">          &lt;/</span>Transitions&gt;</span><br><span class="line">        &lt;<span class="regexp">/Wrapper&gt;</span></span><br><span class="line"><span class="regexp">      )&#125;</span></span><br><span class="line"><span class="regexp">    /</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/Router&gt;</span></span><br><span class="line"><span class="regexp">);</span></span><br></pre></td></tr></table></figure>

<p>Ta định nghĩa css cho các transition tương ứng:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// styles.js</span></span><br><span class="line"><span class="keyword">import</span> styled, &#123; keyframes &#125; <span class="keyword">from</span> <span class="string">'styled-components'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> moveFromRight = keyframes<span class="string">`</span></span><br><span class="line"><span class="string">from &#123; transform: translateX(100%); &#125;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> moveToLeft = keyframes<span class="string">`</span></span><br><span class="line"><span class="string">from &#123; transform: translateX(0%); &#125;</span></span><br><span class="line"><span class="string">to &#123; transform: translateX(-100%);&#125;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> moveFromLeft = keyframes<span class="string">`</span></span><br><span class="line"><span class="string">from &#123; transform: translateX(0%); translateZ(0%); &#125;</span></span><br><span class="line"><span class="string">to &#123; transform: translateX(100%); translateZ(0%); &#125;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> moveToRight = keyframes<span class="string">`</span></span><br><span class="line"><span class="string">from &#123; transform: translateX(-100%); translateZ(100%); &#125;</span></span><br><span class="line"><span class="string">to &#123; transform: translateX(0%); translateZ(100%); &#125;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Wrapper = styled.div<span class="string">`</span></span><br><span class="line"><span class="string">  width: 100vw;</span></span><br><span class="line"><span class="string">  height: 100vh;</span></span><br><span class="line"><span class="string">  perspective: 1200px;</span></span><br><span class="line"><span class="string">  .slideLeft-enter, .slideLeft-exit &#123;</span></span><br><span class="line"><span class="string">    position: relative;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .slideLeft-enter-active &#123;</span></span><br><span class="line"><span class="string">    animation: <span class="subst">$&#123;moveFromRight&#125;</span> 600ms ease both;</span></span><br><span class="line"><span class="string">    z-index: 2;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .slideLeft-exit-active &#123;</span></span><br><span class="line"><span class="string">    animation: <span class="subst">$&#123;moveToLeft&#125;</span> 600ms ease both;</span></span><br><span class="line"><span class="string">    z-index: 1;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .slideRight-enter, .slideRight-exit &#123;</span></span><br><span class="line"><span class="string">    position: relative;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .slideRight-enter-active &#123;</span></span><br><span class="line"><span class="string">    animation: <span class="subst">$&#123;moveToRight&#125;</span> 600ms ease both;</span></span><br><span class="line"><span class="string">    z-index: 2;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  .slideRight-exit-active &#123;</span></span><br><span class="line"><span class="string">    animation: <span class="subst">$&#123;moveFromLeft&#125;</span> 600ms ease both;</span></span><br><span class="line"><span class="string">    z-index: 1;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Wrapper;</span><br></pre></td></tr></table></figure>

<h4 id="Ket"><a href="#Ket" class="headerlink" title="Kết"></a>Kết</h4><p>Cảm ơn mọi người đã theo dõi bài viết, hy vọng bài viết sẽ giúp ích cho các bạn khi thêm hiệu ứng cho ứng dụng React của mình.</p>

  </div>
  <!--文末结束语-->
  
    <div style="text-align:center;color: #ccc;font-size:24px;"> --- <i class="iconfont icon-heartbeat" style="font-size:24px;"></i> --- </div>
  
  <!--页脚广告-->
  
  <div class="mdui-divider"></div>
  
  <nav>
    
      <a rel="prev" class="post-nav-item mdui-float-left" href="/2020/04/07/cai-thien-chat-luong-commit-trong-du-an-react/">
        <i class="iconfont icon-angle-left"></i>
        <span>Cải thiện chất lượng commit trong dự án React</span>
      </a>
    
    
      <a rel="next" class="post-nav-item mdui-float-right" href="/2020/04/07/tao-logger-voi-winston/">
        <span>Tạo Logger trong Nodejs với Winston</span>
        <i class="iconfont icon-angle-right"></i>
      </a>
    
  </nav>
</article>




  <div class="toc-button"  style="z-index: 100;">
    <button class="mdui-fab mdui-ripple mdui-color-teal" mdui-menu="{target: '#toc'}"><i class="iconfont icon-list"></i></button>
    <ul class="mdui-menu" id="toc">
      <li class="mdui-menu-item">
        <a href="/2020/04/07/tao-hieu-ung-chuyen-page-cho-ung-dung-react/" id="toc-header" class="mdui-ripple">Nội dung</a>
        <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#Gioi-thieu-ve-React-transition-group"><span class="toc-number">1.</span> <span class="toc-text">Giới thiệu về React transition group</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-Component-Transition"><span class="toc-number">1.1.</span> <span class="toc-text">1.Component Transition</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-CSSTransition"><span class="toc-number">1.2.</span> <span class="toc-text">2.CSSTransition</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-TransitionGroup"><span class="toc-number">1.3.</span> <span class="toc-text">3. TransitionGroup</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Demo"><span class="toc-number">2.</span> <span class="toc-text">Demo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ket"><span class="toc-number">3.</span> <span class="toc-text">Kết</span></a></li></ol>
      </li>
    </ul>
  </div>

<!-- 
    <div id="comment" class="mdui-card mdui-p-a-2 mdui-m-b-5">
      <div class="mdui-tab" mdui-tab>
        
          <a href="#comment-tab0" class="mdui-ripple">gitalk</a>
        
      </div>
      
        <div id="comment-tab0" class="mdui-p-a-2">
          <div id="gitalk-container"></div>
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/js-md5@0.7.3/src/md5.min.js"></script>
<script>
  var gitalk = new Gitalk({
    clientID: '28b8e6cb51ecb06f2aed',
    clientSecret: '89743187b2739e7b84086e3159bcefc21a2298d0',
    repo: 'https://github.com/VuPhong95663/plog',
    owner: 'VuPhong95663',
    admin: ['VuPhong95663'],
    id:  md5(location.pathname) ,
    distractionFreeMode: 'true',
  });
  gitalk.render('gitalk-container');
</script>
        </div>
      
    </div>
 -->
<div id="comment" class="mdui-card mdui-p-a-2 mdui-m-b-5">
  <div id="comment-tab0" class="mdui-p-a-2">
    <div class="fb-comments" data-href="/2020/04/07/tao-hieu-ung-chuyen-page-cho-ung-dung-react/" data-width="100%" data-numposts="10" colorscheme="dark"></div>
  </div>
</div>



    </div>
  </main>
  <footer id="footer" class="mdui-text-center mdui-m-t-5 mdui-p-b-2 mdui-p-t-4 mdui-color-theme">
  <div class="mdui-container">
    <div class="mdui-row">
      
        <a href="http://www.beian.miit.gov.cn" rel="noopener" target="_blank"></a>
      
      <span>
        &copy; 2019 - 2020 
        
          <span style="color:#d9333f" class="iconfont icon-heart"></span>
        
        Vu Van Phong
      </span>
    </div>
    <div class="mdui-row">
      
        <div class="mdui-col-xs-6 mdui-text-right">
          <span>Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a></span>
        </div>
        <div class="mdui-col-xs-6 mdui-text-left">
          <span>Theme: <a href="https://github.com/kb1000fx/Meadow" rel="noopener" target="_blank">Meadow</a></span>
        </div>
      
    </div>
    <div class="mdui-row">
      
    </div>
 </div>
</footer>
  
  <button id="gotop" class="mdui-fab mdui-fab-fixed mdui-fab-hide mdui-ripple mdui-color-teal" style="z-index:100;"><i class="iconfont icon-arrowup"></i></button>
  
  




    <script src="https://cdn.jsdelivr.net/npm/mermaid@8.4.8/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({
        startOnLoad: true,
        theme: "default"
    });</script>




<script src="/js/mdui.min.js"></script>
<script src="/js/meadow.js"></script>

</body>
</html >
